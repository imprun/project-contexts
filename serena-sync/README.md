# Serena MCP ì—°ë™

Serena MCPì˜ ë¶„ì„ ê²°ê³¼ë¥¼ `.context/archive/`ì— ë³´ê´€í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

---

## Serena MCPë€?

**Serena MCP**ëŠ” Claude Codeê°€ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ ìë™ìœ¼ë¡œ í”„ë¡œì íŠ¸ ì§€ì‹ì„ ìƒì„±í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

### ë¶„ì„ ê²°ê³¼ ì €ì¥ ìœ„ì¹˜

```
../.serena/memories/
â”œâ”€â”€ project-overview.md       # í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”
â”œâ”€â”€ auth-architecture.md      # ì¸ì¦ ì•„í‚¤í…ì²˜ ë¶„ì„
â”œâ”€â”€ api-design-patterns.md    # API ì„¤ê³„ íŒ¨í„´
â””â”€â”€ ...
```

### Serenaê°€ ìƒì„±í•˜ëŠ” ë©”ëª¨ë¦¬ ì¢…ë¥˜

- **í”„ë¡œì íŠ¸ ê°œìš”**: ì „ì²´ êµ¬ì¡°, ì£¼ìš” ëª¨ë“ˆ, ê¸°ìˆ  ìŠ¤íƒ
- **ì•„í‚¤í…ì²˜ ë¶„ì„**: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜, ì»´í¬ë„ŒíŠ¸ ê´€ê³„
- **ì„¤ê³„ íŒ¨í„´**: ì‚¬ìš©ëœ ë””ìì¸ íŒ¨í„´, ì½”ë“œ ìŠ¤íƒ€ì¼
- **API ë¬¸ì„œ**: ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡, ìš”ì²­/ì‘ë‹µ í˜•ì‹

---

## ì™œ ë³´ê´€í•˜ë‚˜ìš”?

### ë¬¸ì œì 

Serenaì˜ `.serena/memories/` íŒŒì¼ì€:
- **íœ˜ë°œì„±**: ìƒˆë¡œìš´ ë¶„ì„ ì‹œ ë®ì–´ì”Œì›Œì§
- **ë¡œì»¬ ì „ìš©**: íŒ€ì›ê³¼ ê³µìœ  ë¶ˆê°€
- **ë²„ì „ ê´€ë¦¬ ì—†ìŒ**: Gitìœ¼ë¡œ ì¶”ì ë˜ì§€ ì•ŠìŒ

### í•´ê²°ì±…

`.context/archive/{í”„ë¡œì íŠ¸}/`ì— ë³´ê´€í•˜ì—¬:
- âœ… **ì˜êµ¬ ë³´ê´€**: ê³¼ê±° ì‹œìŠ¤í…œ ìƒíƒœ ìŠ¤ëƒ…ìƒ·
- âœ… **íŒ€ ê³µìœ **: Git ì»¤ë°‹ìœ¼ë¡œ íŒ€ì›ê³¼ ê³µìœ 
- âœ… **ì‹œê°„ë³„ ì¶”ì **: ì•„í‚¤í…ì²˜ ë³€í™” ì¶”ì  ê°€ëŠ¥

---

## ì‚¬ìš© ë°©ë²•

### 1. ëŒ€í™”í˜• ëª¨ë“œ (ê¶Œì¥)

```bash
cd .context
node serena-sync/sync-memory.js
```

**ì¶œë ¥**:
```
ğŸ“‹ 5ê°œ íŒŒì¼ ë°œê²¬:

  1. project-overview.md (2025-11-29, 12.3KB)
  2. auth-architecture.md (2025-11-28, 8.1KB)
  3. api-design-patterns.md (2025-11-27, 5.2KB)
  4. repository-pattern.md (2025-11-26, 4.1KB)
  5. frontend-structure.md (2025-11-25, 6.8KB)

ë³´ê´€í•  íŒŒì¼ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 1,3,5 ë˜ëŠ” all):
```

**ì…ë ¥ ì˜ˆì‹œ**:
```
1,2
```

**ê²°ê³¼**:
```
âœ… ë³´ê´€: serena-2025-11-29-project-overview.md
âœ… ë³´ê´€: serena-2025-11-29-auth-architecture.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ë³´ê´€ ì™„ë£Œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ìƒˆë¡œ ë³´ê´€: 2ê°œ
â­ï¸  ê±´ë„ˆëœ€: 0ê°œ

ëŒ€ìƒ ë””ë ‰í† ë¦¬: .context/archive/imp-gateway/
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### 2. ìë™ ëª¨ë“œ

ìµœê·¼ 7ì¼ ì´ë‚´ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë³´ê´€:

```bash
cd .context
node serena-sync/sync-memory.js --auto
```

**ì¶œë ¥**:
```
ğŸ“‹ ìµœê·¼ 7ì¼ ì´ë‚´ íŒŒì¼ 3ê°œë¥¼ ë³´ê´€í•©ë‹ˆë‹¤:

  - project-overview.md (2025-11-29)
  - auth-architecture.md (2025-11-28)
  - api-design-patterns.md (2025-11-27)

âœ… ë³´ê´€: serena-2025-11-29-project-overview.md
âœ… ë³´ê´€: serena-2025-11-29-auth-architecture.md
âœ… ë³´ê´€: serena-2025-11-29-api-design-patterns.md
```

---

## ë³´ê´€ëœ íŒŒì¼ êµ¬ì¡°

```
.context/archive/imp-gateway/
â”œâ”€â”€ serena-2025-11-29-project-overview.md
â”œâ”€â”€ serena-2025-11-29-auth-architecture.md
â”œâ”€â”€ serena-2025-11-28-api-design-patterns.md
â””â”€â”€ serena-2025-11-27-repository-pattern.md
```

**íŒŒì¼ëª… í˜•ì‹**: `serena-YYYY-MM-DD-{ì›ë³¸íŒŒì¼ëª…}.md`

---

## ì–¸ì œ ë³´ê´€í•˜ë‚˜ìš”?

### ê¶Œì¥ ë³´ê´€ ì‹œì 

1. **ì£¼ê°„ë³´ê³  ì „** (ë§¤ì£¼ ê¸ˆìš”ì¼)
   ```bash
   cd .context
   node serena-sync/sync-memory.js --auto
   /weekly-report
   ```

2. **ì¤‘ìš”í•œ ì•„í‚¤í…ì²˜ ë³€ê²½ ì „í›„**
   ```bash
   # Before: ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ ì „
   node serena-sync/sync-memory.js

   # ... ë¦¬íŒ©í† ë§ ì‘ì—… ...

   # After: ë¦¬íŒ©í† ë§ í›„
   node serena-sync/sync-memory.js
   ```

3. **EPIC ì‹œì‘ ì „**
   ```bash
   # í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ ìŠ¤ëƒ…ìƒ·
   node serena-sync/sync-memory.js

   /create-epic
   # â†’ EPIC ë¬¸ì„œì˜ Backgroundì— í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ ì°¸ì¡°
   ```

4. **ë¦´ë¦¬ì¦ˆ ì „**
   ```bash
   node serena-sync/sync-memory.js --auto
   /generate-release-notes v0.1.0
   ```

### ë³´ê´€ ì£¼ê¸°

- **ì •ê¸°**: ë§¤ì£¼ ê¸ˆìš”ì¼ (ìë™ ëª¨ë“œ)
- **ìˆ˜ì‹œ**: ì¤‘ìš” ë³€ê²½ ì „í›„ (ëŒ€í™”í˜• ëª¨ë“œ)

---

## Git ì»¤ë°‹

ë³´ê´€ í›„ ë°˜ë“œì‹œ Git ì»¤ë°‹ ë° í‘¸ì‹œ:

```bash
cd .context
git add archive/{í”„ë¡œì íŠ¸}/
git commit -m "docs: Serena ë©”ëª¨ë¦¬ ë³´ê´€ (2025-11-29)"
git push
```

**ì¤‘ìš”**: íŒ€ì›ë“¤ê³¼ ê³µìœ í•˜ê³  ë°±ì—…ì„ ìœ„í•´ ë°˜ë“œì‹œ push!

---

## ë³´ê´€ëœ íŒŒì¼ í™œìš©

### EPIC ìƒì„± ì‹œ

```markdown
## Background

### í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ

> ğŸ“Š **Serena Memory ê¸°ë°˜**: `.context/archive/imp-gateway/serena-2025-11-29-project-overview.md`

í˜„ì¬ ì‹œìŠ¤í…œì€ 3-tier ì•„í‚¤í…ì²˜ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°...
```

### ì£¼ê°„ë³´ê³  ì‹œ

```markdown
### Serena ë¶„ì„ ìš”ì•½

> ğŸ“Š **Serena Memory ê¸°ë°˜**: `.context/archive/imp-gateway/serena-2025-11-29-*.md`

- ì´ë²ˆ ì£¼ ì•„í‚¤í…ì²˜ ë³€ê²½: Repository íŒ¨í„´ ë„ì…
- ìƒˆë¡œìš´ íŒ¨í„´: Service ê³„ì¸µ ë¶„ë¦¬
```

### ì•„í‚¤í…ì²˜ ë³€í™” ì¶”ì 

```bash
# ì§€ë‚œì£¼ vs ì´ë²ˆì£¼ ë¹„êµ
diff .context/archive/imp-gateway/serena-2025-11-22-project-overview.md \
     .context/archive/imp-gateway/serena-2025-11-29-project-overview.md
```

---

## ë¬¸ì œ í•´ê²°

### Serena memory ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤

**ì¦ìƒ**:
```
âŒ Serena memory ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ../.serena/memories
```

**ì›ì¸**: Serena MCP ë¯¸ì„¤ì¹˜ ë˜ëŠ” ë©”ëª¨ë¦¬ ë¯¸ìƒì„±

**í•´ê²°**:
1. Serena MCP ì„¤ì¹˜ í™•ì¸: https://github.com/oraios/serena
2. Claude Codeì—ì„œ Serena MCP í™œì„±í™” í™•ì¸
3. í”„ë¡œì íŠ¸ ë¶„ì„ ì‹¤í–‰:
   ```bash
   # Claude Codeì—ì„œ
   mcp__serena__get_symbols_overview(...)
   ```

### íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤

**ì¦ìƒ**:
```
âš ï¸ Serena memory íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
```

**ì›ì¸**: Serenaê°€ ì•„ì§ í”„ë¡œì íŠ¸ë¥¼ ë¶„ì„í•˜ì§€ ì•ŠìŒ

**í•´ê²°**:
Claude Codeì—ì„œ Serena MCP ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ë¶„ì„:
```
mcp__serena__get_symbols_overview("services/imprun-server/internal/api/...")
```

ëª‡ ë²ˆ ì‚¬ìš©í•˜ë©´ `.serena/memories/` í´ë”ì— ë©”ëª¨ë¦¬ íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.

### ì¤‘ë³µ íŒŒì¼

**ì¦ìƒ**:
```
â­ï¸  ê±´ë„ˆëœ€: serena-2025-11-29-project-overview.md (ë™ì¼)
```

**ì„¤ëª…**: ê°™ì€ ë‚ ì§œì— ë™ì¼í•œ ë‚´ìš©ìœ¼ë¡œ ì´ë¯¸ ë³´ê´€ëœ íŒŒì¼ì…ë‹ˆë‹¤.

**í•´ê²°**: ì •ìƒ ë™ì‘ì…ë‹ˆë‹¤. ë‚´ìš©ì´ ë‹¤ë¥´ë©´ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

---

## ê³ ê¸‰ ì‚¬ìš©ë²•

### íŠ¹ì • íŒŒì¼ë§Œ ë³´ê´€

```bash
# ëŒ€í™”í˜• ëª¨ë“œì—ì„œ íŒŒì¼ ë²ˆí˜¸ ì„ íƒ
node serena-sync/sync-memory.js
# ì…ë ¥: 1,3,5
```

### ëª¨ë“  íŒŒì¼ ë³´ê´€

```bash
# ëŒ€í™”í˜• ëª¨ë“œì—ì„œ 'all' ì…ë ¥
node serena-sync/sync-memory.js
# ì…ë ¥: all
```

### ìë™í™” (Cron)

ë§¤ì£¼ ê¸ˆìš”ì¼ ìë™ ë³´ê´€:

```bash
# crontab -e
0 18 * * 5 cd /path/to/.context && node serena-sync/sync-memory.js --auto
```

### NPM ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹¤í–‰

`.context/package.json`ì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€:

```json
{
  "scripts": {
    "serena:sync": "node serena-sync/sync-memory.js",
    "serena:auto": "node serena-sync/sync-memory.js --auto"
  }
}
```

**ì‚¬ìš©**:
```bash
npm run serena:sync  # ëŒ€í™”í˜• ëª¨ë“œ
npm run serena:auto  # ìë™ ëª¨ë“œ
```

---

## ì°¸ê³ 

### Serena MCP ë„êµ¬

Claude Codeì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ Serena MCP ë„êµ¬:

| ë„êµ¬ | ìš©ë„ |
|------|------|
| `get_symbols_overview` | íŒŒì¼ì˜ ì‹¬ë³¼ ëª©ë¡ |
| `find_symbol` | íŠ¹ì • ì‹¬ë³¼ ë³¸ë¬¸ |
| `find_referencing_symbols` | ì‹¬ë³¼ ì°¸ì¡° ì°¾ê¸° |
| `search_for_pattern` | íŒ¨í„´ ê²€ìƒ‰ |

### ë©”ëª¨ë¦¬ íŒŒì¼ í¬ê¸°

- ì‘ì€ í”„ë¡œì íŠ¸: ìˆ˜ KB ~ ìˆ˜ì‹­ KB
- ì¤‘ê°„ í”„ë¡œì íŠ¸: ìˆ˜ì‹­ KB ~ ìˆ˜ë°± KB
- í° í”„ë¡œì íŠ¸: ìˆ˜ë°± KB ~ ìˆ˜ MB

**ê¶Œì¥**: íŒŒì¼ í¬ê¸°ê°€ 1MB ì´ìƒì´ë©´ ëŒ€í™”í˜• ëª¨ë“œë¡œ í•„ìš”í•œ íŒŒì¼ë§Œ ì„ íƒ

### ë³´ê´€ ìš©ëŸ‰

`.context/archive/` ë””ë ‰í† ë¦¬ í¬ê¸° ê´€ë¦¬:

```bash
# ìš©ëŸ‰ í™•ì¸
du -sh .context/archive/

# ì˜¤ë˜ëœ íŒŒì¼ ì •ë¦¬ (6ê°œì›” ì´ìƒ)
find .context/archive/ -name "serena-*.md" -mtime +180 -delete
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-29
**ë²„ì „**: 1.0.0
**ê´€ë¦¬**: Imprun ì¡°ì§
